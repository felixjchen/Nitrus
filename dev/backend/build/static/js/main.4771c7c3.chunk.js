(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{105:function(e,t){},134:function(e,t,a){},136:function(e,t,a){},137:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(32),c=a(66),l=a.n(c),s=a(19),i=a(33),u=a(22),m=a(20),p=a(23),h=a(146),d=a(147),f=a(157),b=a(148),E=a(149),g=a(150),y=a(152),w=a(153),k=a(154),O=a(67),v=a.n(O),j=a(151),C=a(49),x=a.n(C),T=a(71),N=a(68),A=a(144),P=a(43),Q=a(15),L=a(156),S=a(145),_=a(155),I=a(46),J=a(44),R=a(47),U=a(48),z=a(45),B=(a(134),{rows:[],headers:[{key:"name",header:"Name"},{key:"artist",header:"Artist"},{key:"album",header:"Album"},{key:"duration",header:"Duration"},{key:"overflow",header:""}]}),D=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).shouldComponentUpdate=function(e,t){return!1},a.render=function(){return r.a.createElement(A.a,{id:"search",placeHolderText:"Find a song",size:"lg",labelText:"search",onChange:function(){a.props.searchQueryOnChange(document.getElementById("search").value)}})},a}return Object(p.a)(t,e),t}(r.a.Component),F=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).render=function(){var e=a.props.items.map(function(e){return r.a.createElement(P.a,{id:e.id,key:e.id},r.a.createElement(Q.a,{key:"".concat(e.id,":name")},e.name),r.a.createElement(Q.a,{key:"".concat(e.id,":artist")},e.artists[0].name),r.a.createElement(Q.a,{key:"".concat(e.id,":album")},e.album.name,r.a.createElement("img",{src:"".concat(e.album.images[0].url),className:"albumPhoto"})),r.a.createElement(Q.a,{key:"".concat(e.id,":duration")},Math.round(10*e.duration_ms/1e3/60)/10," minutes"),r.a.createElement(Q.a,{key:"overflow"},r.a.createElement(L.a,{flipped:!0},r.a.createElement(S.a,{itemText:"Queue"}))))});return r.a.createElement(_.a,B,function(t){t.rows;var a=t.headers,n=t.getHeaderProps,o=(t.getRowProps,t.getTableProps),c=t.getTableContainerProps;return r.a.createElement(I.a,c(),r.a.createElement(J.a,o(),r.a.createElement(R.a,null,r.a.createElement(P.a,null,a.map(function(e){return r.a.createElement(U.a,Object.assign({key:e.key},n({header:e})),e.header)}))),r.a.createElement(z.a,null,e)))})},a}return Object(p.a)(t,e),t}(r.a.Component),H=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).abortController=new AbortController,a.searchQueryOnChange=function(){var e=Object(N.a)(x.a.mark(function e(t){var n,r,o,c,l,s;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.state,r=[],!t){e.next=13;break}return o={method:"GET",headers:{Authorization:"Bearer ".concat(a.props.access_token)},redirect:"follow",signal:a.abortController.signal},e.next=6,fetch("https://api.spotify.com/v1/search?q=".concat(t,"&type=track"),o);case 6:return c=e.sent,e.t0=JSON,e.next=10,c.text();case 10:e.t1=e.sent,l=e.t0.parse.call(e.t0,e.t1),r=l.tracks.items;case 13:s=Object(T.a)({},n,{items:r}),a.setState(s);case 15:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.render=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(D,{searchQueryOnChange:a.searchQueryOnChange}),r.a.createElement(F,a.state))},a.state={items:[]},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentWillUnmount",value:function(){this.abortController.abort()}}]),t}(r.a.Component),q=(a(136),{overflowHeight:48,shadowTip:!1,topShadow:!1,overlay:!1,scrollTopAtClose:!0}),M=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).spotifyLogout=function(){window.location.replace("https://www.spotify.com/logout/")},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=[];for(var a in this.props.room.users)t.push(r.a.createElement("img",{key:"".concat(a,"_profilePhoto"),className:"profilePhoto",src:this.props.room.users[a].profileImageURL}));return r.a.createElement("div",{id:"page"},r.a.createElement(h.a,{render:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{"aria-label":"Nitrus"},r.a.createElement(f.a,{prefix:""},"Nitrus"),r.a.createElement(b.a,{"aria-label":"Nitrus"},t),r.a.createElement(E.a,null,r.a.createElement(g.a,{id:"logoutIcon","aria-label":"Logout",onClick:e.spotifyLogout},r.a.createElement(j.a,null)))),r.a.createElement(y.a,null,r.a.createElement(w.a,null,r.a.createElement(k.a,{id:"DesktopQueue",sm:{span:0},md:2,lg:2},r.a.createElement("pre",null,JSON.stringify(e.props,null,2))),r.a.createElement(k.a,{sm:4,md:6,lg:10},r.a.createElement(H,{access_token:e.props.access_token})),r.a.createElement(k.a,{sm:1,md:{span:0},lg:{span:0}},r.a.createElement(v.a,q,r.a.createElement("div",{id:"MobileQueue"},r.a.createElement("pre",null,JSON.stringify(e.props,null,2))))))))}}))}}]),t}(r.a.Component),G=new URLSearchParams(window.location.search).get("spotifyID"),W="https://nitrus.azurewebsites.net",K="",V={queue:[],users:{}},X=l()(W),Y=function(){var e=r.a.createElement(M,{room:V,access_token:K});Object(o.render)(e,document.getElementById("root"))};X.on("connect",function(){X.emit("init",G)}),X.on("redirectToLogin",function(){window.location.replace("".concat(W,"/login"))}),X.on("setRoom",function(e){V=e,console.log("new room",V),Y()}),X.on("setAccessToken",function(e){K=e,console.log("new access token",K),Y()})},75:function(e,t,a){e.exports=a(137)}},[[75,1,2]]]);
//# sourceMappingURL=main.4771c7c3.chunk.js.map