{"version":3,"sources":["react-components/search.js","react-components/profile-images.js","react-components/debug.js","react-components/queue.js","react-components/mobile-queue.js","react-components/page.js","index.tsx"],"names":["searchResultProps","useZebraStyles","rows","headers","key","header","MySearch","shouldComponentUpdate","newProps","newState","render","react_default","a","createElement","Search","id","placeHolderText","size","labelText","onChange","_this","props","searchQueryOnChangeHandler","document","getElementById","value","React","Component","SearchResult","items","queue","queueURI","length","reduce","map","i","track","uri","searchResultItems","filter","item","TableRow","TableCell","concat","src","album","images","url","className","name","artists","Button","renderIcon","Add16","iconDescription","kind","hasIconOnly","onClick","addTrackToQueueHandler","DataTable","_ref","getHeaderProps","getRowProps","getTableProps","getTableContainerProps","TableContainer","Table","TableBody","SearchPane","socket","spotifyID","abortController","AbortController","_useState","useState","_useState2","Object","slicedToArray","accessToken","setAccessToken","_useState3","_useState4","setQueue","_useState5","_useState6","setItems","useEffect","on","abort","_ref2","asyncToGenerator","regenerator_default","mark","_callee","searchQuery","newItems","requestOptions","response","responseObj","wrap","_context","prev","next","method","Authorization","redirect","signal","fetch","sent","t0","JSON","text","t1","parse","call","tracks","stop","_x","apply","this","arguments","search_MySearch","search_SearchResult","_track","duration_ms","albumImageURL","artistName","emit","ProfileImages","users","setUsers","profileImages","userID","profilePhoto","profileImageURL","style","backgroundImage","push","Fragment","Debug","_useState7","_useState8","currentlyPlaying","setCurrentlyPlaying","stringify","CurrentlyPlayingTrack","Date","now","time","setTime","interval","setInterval","clearInterval","percent","complete_at","background","QueueTrack","voteHandler","vote","votes","e","stopPropagation","bucket_3","priority","Queue","trackID","QueueTracks","queue_QueueTrack","assign","queue_CurrentlyPlayingTrack","toConsumableArray","bottomSheetProps","overflowHeight","shadowTip","topShadow","overlay","scrollTopAtClose","MobileQueue","open","setOpen","SwipeableBottomSheet_default","src_react_components_queue","spotifyLogoutHandler","window","location","replace","Page","DEBUG","production","Row","Column","react_components_debug","HeaderContainer","Header","aria-label","HeaderName","prefix","HeaderNavigation","react_components_profile_images","HeaderGlobalBar","HeaderGlobalAction","bucket_10","Grid","condensed","sm","span","md","lg","react_components_search","mobile_queue","vh","innerHeight","documentElement","setProperty","addEventListener","URLSearchParams","search","get","backendURL","io","react_components_page","process"],"mappings":"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","file":"static/js/main.550e5af5.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport {\n  DataTable,\n  TableContainer,\n  Table,\n  // TableHead,\n  // TableHeader,\n  TableRow,\n  TableBody,\n  TableCell,\n  Search,\n  // OverflowMenu,\n  // OverflowMenuItem,\n  Button,\n} from \"carbon-components-react\";\nimport styles from \"./search.css\";\nimport { Add16 } from \"@carbon/icons-react\";\nconst searchResultProps = {\n  useZebraStyles: true,\n  rows: [],\n  headers: [\n    {\n      key: \"image\",\n      header: \"Song\",\n    },\n    {\n      key: \"desc\",\n      header: \"\",\n    },\n    {\n      key: \"overflow\",\n      header: \"\",\n    },\n  ],\n};\n\nclass MySearch extends React.Component {\n  shouldComponentUpdate = (newProps, newState) => false;\n\n  render = () => {\n    return (\n      <Search\n        id=\"search\"\n        placeHolderText={\"Find a song\"}\n        size={\"lg\"}\n        labelText=\"search\"\n        onChange={() => {\n          this.props.searchQueryOnChangeHandler(\n            document.getElementById(\"search\").value\n          );\n        }}\n      />\n    );\n  };\n}\n\nconst SearchResult = (props) => {\n  let { items, queue } = props;\n\n  // We create hashmap of queue uris, so filtering songs not in queue is not O(nm) but rather O(n)\n  let queueURI = {};\n  if (queue.length > 0) {\n    queueURI = queue.reduce((map, i) => {\n      map[i.track.uri] = true;\n      return map;\n    }, {});\n  }\n  items = items.filter((i) => !(i.uri in queueURI));\n\n  const searchResultItems = items.map((item) => {\n    return (\n      <TableRow id={item.id} key={item.id}>\n        <TableCell key={`${item.id}:image`}>\n          <img src={`${item.album.images[0].url}`} className=\"albumPhoto\"></img>\n        </TableCell>\n        <TableCell key={`${item.id}:desc`}>\n          {item.name} - {item.artists[0].name}\n        </TableCell>\n        <TableCell key={`${item.id}:overflow`}>\n          <Button\n            className=\"addToQueueButton\"\n            renderIcon={Add16}\n            iconDescription=\"Add to queue\"\n            kind=\"secondary\"\n            hasIconOnly\n            size=\"small\"\n            onClick={() => {\n              props.addTrackToQueueHandler(item);\n            }}\n          />\n          {/* <OverflowMenu flipped>\n            <OverflowMenuItem\n              itemText=\"Queue\"\n              onClick={() => {\n                props.addTrackToQueueHandler(item);\n              }}\n            ></OverflowMenuItem>\n          </OverflowMenu> */}\n        </TableCell>\n      </TableRow>\n    );\n  });\n\n  return (\n    <DataTable {...searchResultProps}>\n      {({\n        rows,\n        headers,\n        getHeaderProps,\n        getRowProps,\n        getTableProps,\n        getTableContainerProps,\n      }) => (\n        <TableContainer {...getTableContainerProps()}>\n          <Table {...getTableProps()}>\n            <TableBody>{searchResultItems}</TableBody>\n          </Table>\n        </TableContainer>\n      )}\n    </DataTable>\n  );\n};\n\nconst SearchPane = (props) => {\n  const { socket, spotifyID } = props;\n  const abortController = new AbortController();\n\n  const [accessToken, setAccessToken] = useState(\"\");\n  const [queue, setQueue] = useState([]);\n  const [items, setItems] = useState([]);\n\n  useEffect(() => {\n    socket.on(\"setAccessToken\", (accessToken) => {\n      setAccessToken(accessToken);\n    });\n    return () => {\n      abortController.abort();\n    };\n  }, [accessToken]);\n\n  useEffect(() => {\n    socket.on(\"setQueue\", (queue) => {\n      setQueue(queue);\n    });\n    return () => {};\n  }, [queue]);\n\n  const searchQueryOnChangeHandler = async (searchQuery) => {\n    let newItems = [];\n    if (searchQuery) {\n      let requestOptions = {\n        method: \"GET\",\n        headers: { Authorization: `Bearer ${accessToken}` },\n        redirect: \"follow\",\n        signal: abortController.signal,\n      };\n      let response = await fetch(\n        `https://api.spotify.com/v1/search?q=${searchQuery}&type=track&limit=50`,\n        requestOptions\n      );\n      let responseObj = JSON.parse(await response.text());\n      newItems = responseObj.tracks.items;\n    }\n    setItems(newItems);\n  };\n\n  const addTrackToQueueHandler = (track) => {\n    let { id, uri, name, duration_ms } = track;\n    let albumImageURL = track.album.images[0].url;\n    let artistName = track.artists[0].name;\n    track = { id, uri, name, albumImageURL, artistName, duration_ms };\n    socket.emit(\"addTrackToQueue\", { spotifyID, track });\n  };\n\n  return (\n    <div id=\"SearchPane\">\n      <MySearch\n        searchQueryOnChangeHandler={searchQueryOnChangeHandler}\n      ></MySearch>\n      <SearchResult\n        items={items}\n        queue={queue}\n        addTrackToQueueHandler={addTrackToQueueHandler}\n      ></SearchResult>\n    </div>\n  );\n};\n\nexport default SearchPane;\n","import React, { useState, useEffect } from \"react\";\nimport styles from \"./profile-images.css\";\n\nconst ProfileImages = (props) => {\n  const socket = props.socket;\n  const [users, setUsers] = useState([]);\n\n  useEffect(() => {\n    socket.on(\"setUsers\", (users) => {\n      setUsers(users);\n    });\n    return () => {};\n  });\n\n  const profileImages = [];\n  for (let userID in users) {\n    // let displayLetters = users[userID].display_name\n    //   ? users[userID].display_name[0]\n    //   : \"?\";\n    let profilePhoto;\n\n    if (users[userID].profileImageURL) {\n      profilePhoto = (\n        <div\n          key={`${userID}_profilePhoto`}\n          className=\"profilePhoto\"\n          style={{\n            backgroundImage: `url(${users[userID].profileImageURL})`,\n          }}\n        >\n          {/* {displayLetters} */}\n        </div>\n      );\n    }\n    profileImages.push(profilePhoto);\n  }\n\n  return <> {profileImages}</>;\n};\n\nexport default ProfileImages;\n","import React, { useState, useEffect } from \"react\";\nimport styles from \"./debug.css\";\n\nconst Debug = (props) => {\n  const { socket } = props;\n  const [users, setUsers] = useState([]);\n  const [queue, setQueue] = useState([]);\n  const [accessToken, setAccessToken] = useState(\"\");\n  const [currentlyPlaying, setCurrentlyPlaying] = useState({});\n\n  useEffect(() => {\n    socket.on(\"setUsers\", (users) => {\n      setUsers(users);\n    });\n    socket.on(\"setQueue\", (queue) => {\n      setQueue(queue);\n    });\n    socket.on(\"setAccessToken\", (accessToken) => {\n      setAccessToken(accessToken);\n    });\n    socket.on(\"setCurrentlyPlaying\", (currentlyPlaying) => {\n      setCurrentlyPlaying(currentlyPlaying);\n    });\n    return () => {};\n  });\n\n  return (\n    <pre>\n      {JSON.stringify({ accessToken, currentlyPlaying, queue, users }, null, 2)}{\" \"}\n    </pre>\n  );\n};\n\nexport default Debug;\n","import React, { useState, useEffect } from \"react\";\nimport styles from \"./queue.css\";\nimport {\n  // ChevronSortDown32,\n  ChevronSortUp32,\n} from \"@carbon/icons-react\";\n\nconst Queue = (props) => {\n  const { spotifyID, socket } = props;\n  const [queue, setQueue] = useState([]);\n  const [currentlyPlaying, setCurrentlyPlaying] = useState(null);\n\n  useEffect(() => {\n    socket.on(\"setQueue\", (queue) => {\n      setQueue(queue);\n    });\n    socket.on(\"setCurrentlyPlaying\", (currentlyPlaying) => {\n      setCurrentlyPlaying(currentlyPlaying);\n    });\n    return () => {};\n  }, [queue]);\n\n  const voteHandler = (vote, trackID) => {\n    socket.emit(\"voteTrack\", { spotifyID, vote, trackID });\n  };\n\n  const QueueTracks = queue.map((i) => {\n    return (\n      <QueueTrack\n        key={`QueueTrack${i.track.id}`}\n        spotifyID={spotifyID}\n        voteHandler={voteHandler}\n        {...i}\n      ></QueueTrack>\n    );\n  });\n\n  return (\n    <div id=\"Queue\">\n      {[\n        <CurrentlyPlayingTrack\n          key={`currentlyPlaying`}\n          track={currentlyPlaying}\n        ></CurrentlyPlayingTrack>,\n        ...QueueTracks,\n      ]}\n    </div>\n  );\n};\n\nconst CurrentlyPlayingTrack = (props) => {\n  const { track } = props;\n  const [time, setTime] = useState(Date.now());\n\n  useEffect(() => {\n    const interval = setInterval(() => setTime(Date.now()), 100);\n    return () => {\n      clearInterval(interval);\n    };\n  }, []);\n\n  if (track) {\n    let pos = track.duration_ms - track.complete_at + time;\n    let percent = (pos / track.duration_ms) * 100;\n    return (\n      <div\n        className=\"currently-playing\"\n        style={{\n          background: `linear-gradient(90deg, #0043ce ${\n            percent - 1\n          }%, #0f62fe ${percent}%)`,\n        }}\n      >\n        <div>\n          <img src={`${track.albumImageURL}`}></img>\n        </div>\n        <div>{track.name + \" - \" + track.artistName}</div>\n      </div>\n    );\n  } else {\n    return <div className=\"queue-track\"></div>;\n  }\n};\n\nconst QueueTrack = (props) => {\n  const { spotifyID, voteHandler, track } = props;\n  const vote = spotifyID in props.votes ? props.votes[spotifyID] : 0;\n\n  return (\n    <div className=\"queue-track\">\n      <div>\n        <img src={`${track.albumImageURL}`}></img>\n      </div>\n      <div>{track.name + \" - \" + track.artistName}</div>\n      <div\n        className=\"queue-track-vote-col\"\n        onClick={(e) => {\n          // If already upvote, we remove vote, and its neutral\n          if (vote === 1) {\n            voteHandler(0, track.id);\n          } else {\n            voteHandler(1, track.id);\n          }\n\n          e.stopPropagation();\n        }}\n      >\n        <div>\n          <ChevronSortUp32 className={vote === 1 ? \"active\" : \"\"} />\n        </div>\n        <div>{props.priority}</div>\n      </div>\n    </div>\n  );\n};\n\nexport default Queue;\n","import React, { useState, useEffect } from \"react\";\nimport Queue from \"./queue\";\nimport SwipeableBottomSheet from \"react-swipeable-bottom-sheet\";\n\nconst bottomSheetProps = {\n  overflowHeight: 60,\n  shadowTip: false,\n  topShadow: false,\n  overlay: false,\n  scrollTopAtClose: true,\n};\nconst MobileQueue = (props) => {\n  const { spotifyID, socket } = props;\n\n  const [open, setOpen] = useState(false);\n\n  return (\n    <div\n      onClick={() => {\n        setOpen(!open);\n      }}\n    >\n      <SwipeableBottomSheet {...bottomSheetProps} open={open}>\n        <div id=\"MobileQueueWrapper\">\n          <Queue socket={socket} spotifyID={spotifyID}></Queue>\n        </div>\n      </SwipeableBottomSheet>\n    </div>\n  );\n};\n\nexport default MobileQueue;\n","import React from \"react\";\nimport SearchPane from \"./search\";\nimport ProfileImages from \"./profile-images\";\nimport Debug from \"./debug\";\nimport Queue from \"./queue\";\nimport MobileQueue from \"./mobile-queue\";\nimport {\n  Header,\n  HeaderName,\n  HeaderNavigation,\n  HeaderContainer,\n  HeaderGlobalBar,\n  HeaderGlobalAction,\n  Grid,\n  Row,\n  Column,\n} from \"carbon-components-react\";\nimport { Logout20 } from \"@carbon/icons-react\";\nimport styles from \"./page.css\";\n\nconst spotifyLogoutHandler = () => {\n  window.location.replace(\"https://www.spotify.com/logout/\");\n};\n\nconst Page = (props) => {\n  let { socket, spotifyID, production } = props;\n\n  const DEBUG = !production ? (\n    <Row>\n      <>\n        <Column>\n          <Debug socket={socket}></Debug>\n        </Column>\n      </>\n    </Row>\n  ) : (\n    <></>\n  );\n\n  return (\n    <div id=\"page\">\n      <HeaderContainer\n        render={() => (\n          <>\n            <Header aria-label=\"Nitrus\">\n              <HeaderName prefix=\"\">Nitrus</HeaderName>\n              <HeaderNavigation aria-label=\"Nitrus\">\n                <>\n                  <ProfileImages socket={socket}></ProfileImages>\n                </>\n              </HeaderNavigation>\n              <HeaderGlobalBar>\n                <HeaderGlobalAction\n                  id=\"logoutIcon\"\n                  aria-label=\"Logout\"\n                  onClick={spotifyLogoutHandler}\n                >\n                  <Logout20 />\n                </HeaderGlobalAction>\n              </HeaderGlobalBar>\n            </Header>\n            <Grid condensed>\n              <Row>\n                <Column sm={{ span: 0 }} md={2} lg={2}>\n                  <div id=\"DesktopQueueWrapper\">\n                    <Queue socket={socket} spotifyID={spotifyID}></Queue>\n                  </div>\n                </Column>\n                <Column sm={4} md={6} lg={10}>\n                  <SearchPane\n                    socket={socket}\n                    spotifyID={spotifyID}\n                  ></SearchPane>\n                </Column>\n\n                <Column sm={1} md={{ span: 0 }} lg={{ span: 0 }}>\n                  <MobileQueue\n                    socket={socket}\n                    spotifyID={spotifyID}\n                  ></MobileQueue>\n                </Column>\n              </Row>\n\n              {DEBUG}\n            </Grid>\n          </>\n        )}\n      />\n    </div>\n  );\n};\nexport default Page;\n","import React from \"react\";\nimport { render } from \"react-dom\";\nimport Page from \"./react-components/page\";\nimport io from \"socket.io-client\";\n\n// https://css-tricks.com/the-trick-to-viewport-units-on-mobile/\nconst vh = window.innerHeight * 0.01;\ndocument.documentElement.style.setProperty(\"--vh\", `${vh}px`);\nwindow.addEventListener(\"resize\", () => {\n  // https://css-tricks.com/the-trick-to-viewport-units-on-mobile/\n  const vh = window.innerHeight * 0.01;\n  document.documentElement.style.setProperty(\"--vh\", `${vh}px`);\n});\n\nconst urlSearchParams = new URLSearchParams(window.location.search);\nconst spotifyID = urlSearchParams.get(\"spotifyID\");\nconst production = process.env.NODE_ENV === \"production\";\nconst backendURL = production\n  ? \"https://nitrus.azurewebsites.net\"\n  : \"http://0.0.0.0\";\n\nconst socket = io(backendURL);\n\nsocket.on(\"connect\", () => {\n  socket.emit(\"init\", spotifyID);\n});\nsocket.on(\"redirectToLogin\", () => {\n  window.location.replace(`${backendURL}/login`);\n});\n\nrender(\n  <Page spotifyID={spotifyID} socket={socket} production={production} />,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}