(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{105:function(e,t){},134:function(e,t,a){},136:function(e,t,a){},137:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(26),c=a(65),l=a.n(c),s=a(19),i=a(66),u=a(22),m=a(20),p=a(23),d=a(146),h=a(147),f=a(157),E=a(148),b=a(149),g=a(150),y=a(152),w=a(153),k=a(154),O=a(67),v=a.n(O),j=a(151),C=a(48),x=a.n(C),Q=a(71),T=a(68),N=a(144),P=a(42),A=a(15),_=a(156),I=a(145),L=a(155),S=a(45),B=a(43),J=a(46),R=a(47),z=a(44),D=(a(134),{rows:[],headers:[{key:"name",header:"Name"},{key:"artist",header:"Artist"},{key:"album",header:"Album"},{key:"duration",header:"Duration"},{key:"overflow",header:""}]}),F=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).shouldComponentUpdate=function(e,t){return!1},a.render=function(){return r.a.createElement(N.a,{id:"search",placeHolderText:"Find a song",size:"lg",labelText:"search",onChange:function(){a.props.searchQueryOnChange(document.getElementById("search").value)}})},a}return Object(p.a)(t,e),t}(r.a.Component),H=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).render=function(){console.log(a.props.items);var e=a.props.items.map(function(e){return r.a.createElement(P.a,{id:e.id,key:e.id},r.a.createElement(A.a,{key:"".concat(e.id,":name")},e.name),r.a.createElement(A.a,{key:"".concat(e.id,":artist")},e.artists[0].name),r.a.createElement(A.a,{key:"".concat(e.id,":album")},e.album.name,r.a.createElement("img",{src:"".concat(e.album.images[0].url),className:"albumPhoto"})),r.a.createElement(A.a,{key:"".concat(e.id,":duration")},Math.round(10*e.duration_ms/1e3/60)/10," minutes"),r.a.createElement(A.a,{key:"overflow"},r.a.createElement(_.a,{flipped:!0},r.a.createElement(I.a,{itemText:"Queue"}))))});return r.a.createElement(L.a,D,function(t){t.rows;var a=t.headers,n=t.getHeaderProps,o=(t.getRowProps,t.getTableProps),c=t.getTableContainerProps;return r.a.createElement(S.a,c(),r.a.createElement(B.a,o(),r.a.createElement(J.a,null,r.a.createElement(P.a,null,a.map(function(e){return r.a.createElement(R.a,Object.assign({key:e.key},n({header:e})),e.header)}))),r.a.createElement(z.a,null,e)))})},a}return Object(p.a)(t,e),t}(r.a.Component),U=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).searchQueryOnChange=function(){var e=Object(T.a)(x.a.mark(function e(t){var n,r,o,c,l,s;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.state,r=[],!t){e.next=13;break}return o={method:"GET",headers:{Authorization:"Bearer ".concat(a.props.access_token)},redirect:"follow"},e.next=6,fetch("https://api.spotify.com/v1/search?q=".concat(t,"&type=track"),o);case 6:return c=e.sent,e.t0=JSON,e.next=10,c.text();case 10:e.t1=e.sent,l=e.t0.parse.call(e.t0,e.t1),r=l.tracks.items;case 13:s=Object(Q.a)({},n,{items:r}),a.setState(s);case 15:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.render=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(F,{searchQueryOnChange:a.searchQueryOnChange}),r.a.createElement(H,a.state))},a.state={items:[]},a}return Object(p.a)(t,e),t}(r.a.Component),M=(a(136),{overflowHeight:48,shadowTip:!1,topShadow:!1,overlay:!1,scrollTopAtClose:!0}),q=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).spotifyLogout=function(){window.location.replace("https://www.spotify.com/logout/")},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=[];for(var a in this.props.room.users)t.push(r.a.createElement("img",{key:"".concat(a,"_profilePhoto"),className:"profilePhoto",src:this.props.room.users[a].profileImageURL}));return r.a.createElement("div",{id:"page"},r.a.createElement(d.a,{render:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{"aria-label":"Nitrous"},r.a.createElement(f.a,{prefix:""},"Nitrous"),r.a.createElement(E.a,{"aria-label":"Nitrous"},t),r.a.createElement(b.a,null,r.a.createElement(g.a,{id:"logoutIcon","aria-label":"Logout",onClick:e.spotifyLogout},r.a.createElement(j.a,null)))),r.a.createElement(y.a,null,r.a.createElement(w.a,null,r.a.createElement(k.a,{id:"DesktopQueue",sm:{span:0},md:2,lg:3},"Queue"),r.a.createElement(k.a,{sm:4,md:6,lg:9},r.a.createElement(U,{access_token:e.props.access_token})),r.a.createElement(k.a,{sm:1,md:{span:0},lg:{span:0}},r.a.createElement(v.a,M,r.a.createElement("div",{id:"MobileQueue"},"Queue"))))))}}),r.a.createElement("pre",null,JSON.stringify(this.props,null,2)))}}]),t}(r.a.Component),G=new URLSearchParams(window.location.search).get("spotifyID"),K="https://nitr0us.azurewebsites.net",V=void 0,W=void 0,X=l()(K);X.on("connect",function(){X.emit("init",G)}),X.on("setRoom",function(e){W=e,console.log(W),Object(o.render)(r.a.createElement(q,{room:W,access_token:V}),document.getElementById("root"))}),X.on("setAccessToken",function(e){e||window.location.replace("".concat(K,"/login")),V=e,console.log(V),Object(o.render)(r.a.createElement(q,{room:W,access_token:V}),document.getElementById("root"))})},75:function(e,t,a){e.exports=a(137)}},[[75,1,2]]]);
//# sourceMappingURL=main.dfb96cd4.chunk.js.map